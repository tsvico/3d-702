# 🌌 Simple 3D Panorama Viewer & Converter

一个轻量级、无需构建工具、单页面的 **3D 全景图查看器** 与 [**全景图切片转换工具**](https://www.tbox.fun/plugins/720cute/)。基于 Three.js 开发，支持本地在线转换全景图，支持多场景切换、平滑的惯性拖拽和滚轮视场缩放。

> **核心功能更新**：
>
> 1. **全景查看器 (`index.html`)**：支持查看前(f)、后(b)、左(l)、右(r)、上(u)、下(d) 组成的 CubeMap 全景。
> 2. **切片转换器 (`tool.html`)**：[新增] 内置纯前端工具，可将一张完整的全景图（Equirectangular 2:1）一键切割并导出为上述 6 张切片。

**如果这个项目对你有帮助，请右上角点个 Star ⭐ 支持一下！谢谢！**

## ✨ 特性

- 🚀 **零依赖安装**：通过 CDN (npmmirror) 引入资源，打开即用。
- 🛠️ **内置切片工具**：无需联网，本地纯前端将全景图转换为 CubeMap 格式，支持手机端操作。
- ⚙️ **配置简单**：通过 JSON 配置多个场景。
- 🎮 **极致手感**：优化了拖拽惯性、旋转速度，支持鼠标滚轮改变 FOV（视野范围），体验接近专业漫游软件。
- 📱 **全屏适配**：自动适应浏览器窗口大小，移动端体验极佳。

## 📂 目录结构

在使用前，请确保你的文件目录结构如下：

```text
Project/
│
├── index.html          <-- [主程序] 全景查看器
├── tool.html           <-- 全景图切片转换器 (非必须)
├── README.md           <-- 说明文档
│
└── scenes/             <-- 存放全景图片的文件夹
    ├── scene1/         <-- 场景1
    │   ├── pano_f.jpg  (前)
    │   ├── pano_b.jpg  (后)
    │   ├── pano_l.jpg  (左)
    │   ├── pano_r.jpg  (右)
    │   ├── pano_u.jpg  (上)
    │   ├── pano_d.jpg  (下)
    │
    ├── scene2/         <-- 场景2
    │   └── ...
```

## 🛠️ 如何获取/制作 6 面全景图

### 方法 1：使用内置转换工具 (推荐)

如果你手头有一张完整的全景图（通常是 2:1 比例的长方形图片），可以使用本项目自带的工具将其转换为 6 面图。

1.  **打开工具**：直接在浏览器打开 `tool.html` (或手机扫描访问)。
2.  **上传图片**：点击上传你的全景图（JPG/PNG）。
3.  **预览与导出**：
    - 工具会自动生成 3D 预览。
    - 点击**“开始切片”**。
    - 点击生成的 6 张小图下载保存。
4.  **放入项目**：将下载的图片放入 `scenes/你的场景名/` 文件夹中，即可使用 `index.html` 查看。

### 方法 2：F12 大法 (从网站提取)

如果你手头没有全景图切片，可以去一些主流的全景漫游网站“提取”素材用于学习测试。

1.  **打开浏览器开发者工具**：在全景图网页上，按键盘 `F12`。
2.  **切换到 Network 面板**：筛选 `Img`。
3.  **寻找切片**：转动视角，寻找文件名中包含 `f/b/l/r/u/d` 的 6 张图片。
4.  **保存**：下载并按代码约定重命名（例如 `pano_f.jpg`）。

> **提示**：如果发现查看器里前后颠倒或上下颠倒，请调整 `index.html` 代码中 `fileOrder` 数组的顺序，或者直接交换文件名。

## 🚀 快速开始

由于浏览器的 `CORS` 安全策略，**不能**直接双击 `index.html` 打开，否则图片无法加载（`tool.html` 不受此限制，可直接双击打开）。你需要一个本地服务器。

### 方法 1：使用 VS Code (推荐)

1.  安装插件 **Live Server**。
2.  在 `index.html` 上右键，选择 **"Open with Live Server"**。

### 方法 2：使用 Python

打开终端进入项目目录，运行：

```bash
# Python 3.x
python -m http.server
```

然后访问 `http://localhost:8000`。

### 方法 3：使用 Node.js

```bash
npm install -g http-server
http-server
```

## ⚙️ 自定义配置

打开 `index.html`，找到 `scenesConfig` 区域即可添加或修改场景：

```javascript
const scenesConfig = [
  {
    id: "scene1",
    name: "主卧",
    path: "./scenes/scene1/", // 别忘了最后的斜杠
  },
  // ... 添加更多
];
```

## 🤝 贡献与支持

这是一个纯静态的 Demo 项目，欢迎 贡献 Pull request。

**最后，别忘了点亮上方的小星星 ⭐ (Star)，这是我更新的动力！**
